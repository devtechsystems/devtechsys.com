{"version":3,"sources":["assets/js/projects/components/BreakdownPanel/RowChart/DefaultRow.js","assets/js/projects/components/BreakdownPanel/RowChart/RowChart.js","assets/js/projects/components/BreakdownPanel/RowChart/index.js","assets/js/projects/components/BreakdownPanel/index.js","assets/js/projects/components/StackedBarChart.js","assets/js/projects/entry.js","assets/js/projects/util/ColorPalette.js","assets/js/projects/util/ColorScale.js","node_modules/auto-reload-brunch/vendor/auto-reload.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzNA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjIA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnFA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"assets/brunch-compiled/projects-bundle.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _d = require('d3');\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RadRow = function (_Component) {\n  _inherits(RadRow, _Component);\n\n  function RadRow(props) {\n    _classCallCheck(this, RadRow);\n\n    var _this = _possibleConstructorReturn(this, (RadRow.__proto__ || Object.getPrototypeOf(RadRow)).call(this, props));\n\n    _this.state = {\n      showEllipses: false\n    };\n    return _this;\n  }\n\n  _createClass(RadRow, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var textWidth = this.nameTextElement.getBoundingClientRect().width;\n      if (textWidth > this.availableWidthForName() && !this.state.showEllipses) {\n        this.setState({ showEllipses: true });\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var textWidth = this.nameTextElement.getBoundingClientRect().width;\n      if (textWidth > this.availableWidthForName() && !this.state.showEllipses) {\n        this.setState({ showEllipses: true });\n      } else if (textWidth < this.availableWidthForName() && this.state.showEllipses) {\n        this.setState({ showEllipses: false });\n      }\n    }\n  }, {\n    key: 'availableWidthForName',\n    value: function availableWidthForName() {\n      return this.props.chartWidth - 53 - this.widthForCircle();\n    }\n  }, {\n    key: 'widthForCircle',\n    value: function widthForCircle() {\n      return this.getCircleRadius() * 2 + this.props.circlePaddingRight;\n    }\n  }, {\n    key: 'heightForText',\n    value: function heightForText() {\n      return this.props.rowHeight / 3;\n    }\n  }, {\n    key: 'getCircleRadius',\n    value: function getCircleRadius() {\n      return this.heightForText() / 2;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          y = _props.y,\n          rowHeight = _props.rowHeight,\n          chartWidth = _props.chartWidth,\n          datum = _props.datum,\n          data = _props.data,\n          xScale = _props.xScale;\n\n      var barWidth = void 0;\n      var textValueClassNames = (0, _classnames2.default)('rad-row-value-text', { 'rad-row-negative': datum.value < 0 });\n      if (datum.value < 0) {\n        barWidth = 0;\n      } else {\n        barWidth = xScale(datum.value);\n      }\n      var barHeight = rowHeight / 6;\n      var fontSize = this.heightForText();\n      var circleRadius = this.getCircleRadius();\n      var barY = y + rowHeight / 3 + rowHeight / 6;\n      var ellipsesXAdjustment = 2; // Move ellipsis slightly right so it has padding\n      var ellipses = this.state.showEllipses ? _react2.default.createElement(\n        'text',\n        {\n          className: 'rad-row-name-ellipses',\n          x: chartWidth - this.props.spaceForValueText + ellipsesXAdjustment,\n          y: y,\n          fontSize: fontSize,\n          alignmentBaseline: 'hanging'\n        },\n        _react2.default.createElement(\n          'title',\n          null,\n          datum.name\n        ),\n        '...'\n      ) : '';\n\n      return _react2.default.createElement(\n        'g',\n        { className: 'rad-row' },\n        _react2.default.createElement('circle', {\n          cx: 0 + circleRadius,\n          cy: y + circleRadius,\n          r: circleRadius,\n          fill: this.props.color\n        }),\n        _react2.default.createElement(\n          'text',\n          {\n            ref: function ref(textElement) {\n              _this2.nameTextElement = textElement;\n            },\n            className: 'rad-row-name-text',\n            x: this.widthForCircle(),\n            y: y,\n            fontSize: fontSize,\n            alignmentBaseline: 'hanging'\n          },\n          _react2.default.createElement(\n            'title',\n            null,\n            datum.name\n          ),\n          datum.name\n        ),\n        _react2.default.createElement('rect', {\n          className: 'rad-row-value-background',\n          x: chartWidth - this.props.spaceForValueText,\n          y: y,\n          width: this.props.spaceForValueText,\n          height: rowHeight - barHeight\n        }),\n        ellipses,\n        _react2.default.createElement(\n          'text',\n          {\n            className: textValueClassNames,\n            x: chartWidth,\n            y: y,\n            fontSize: fontSize,\n            textAnchor: 'end',\n            alignmentBaseline: 'hanging'\n          },\n          datum.value\n        ),\n        _react2.default.createElement('rect', {\n          className: 'rad-row-background',\n          y: barY,\n          width: chartWidth,\n          height: barHeight\n        }),\n        _react2.default.createElement('rect', {\n          className: 'rad-row-bar',\n          y: barY,\n          width: barWidth,\n          height: barHeight,\n          fill: this.props.color\n        })\n      );\n    }\n  }]);\n\n  return RadRow;\n}(_react.Component);\n\nexports.default = RadRow;\n\n\nRadRow.propTypes = {\n  y: _propTypes2.default.number,\n  chartWidth: _propTypes2.default.number,\n  rowHeight: _propTypes2.default.number,\n  datum: _propTypes2.default.shape({\n    name: _propTypes2.default.string,\n    value: _propTypes2.default.number\n  }),\n  data: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    name: _propTypes2.default.string,\n    value: _propTypes2.default.number\n  })),\n  xScale: _propTypes2.default.func,\n  color: _propTypes2.default.string\n};\n\nRadRow.defaultProps = {\n  circlePaddingRight: 8,\n  spaceForValueText: 54\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _d = require('d3');\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _DefaultRow = require('./DefaultRow.js');\n\nvar _DefaultRow2 = _interopRequireDefault(_DefaultRow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RowChart = function (_Component) {\n  _inherits(RowChart, _Component);\n\n  function RowChart() {\n    _classCallCheck(this, RowChart);\n\n    return _possibleConstructorReturn(this, (RowChart.__proto__ || Object.getPrototypeOf(RowChart)).apply(this, arguments));\n  }\n\n  _createClass(RowChart, [{\n    key: 'rowHeight',\n    value: function rowHeight() {\n      if (this.props.rowHeight) return this.props.rowHeight;\n\n      return this.props.height / this.props.data.length;\n    }\n  }, {\n    key: 'svgHeight',\n    value: function svgHeight() {\n      return this.rowHeight() * this.props.data.length;\n    }\n  }, {\n    key: 'svgWidth',\n    value: function svgWidth() {\n      var scrollbarWidth = 18;\n      if (this.svgHeight() >= this.props.height) return this.props.width - scrollbarWidth;\n\n      return this.props.width;\n    }\n  }, {\n    key: 'xScale',\n    value: function xScale() {\n      var maxValue = _d2.default.max(this.props.data, function (d) {\n        return d.value;\n      });\n      return _d2.default.scale.linear().domain([0, maxValue]).range([0, this.props.width]);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var rowHeight = this.rowHeight();\n      var rows = this.props.data.map(function (d, i) {\n        var y = rowHeight * i;\n        var Row = _this2.props.row;\n        return _react2.default.createElement(Row, {\n          key: d.name,\n          y: y,\n          rowHeight: rowHeight,\n          chartWidth: _this2.svgWidth(),\n          datum: d,\n          data: _this2.props.data,\n          xScale: _this2.xScale(),\n          color: _this2.props.colorMapper(d.value)\n        });\n      });\n\n      var containerStyles = {\n        width: this.props.width,\n        height: this.props.height,\n        overflow: 'auto'\n      };\n      return _react2.default.createElement(\n        'div',\n        { className: 'row-chart ' + (this.props.className || ''), style: containerStyles },\n        _react2.default.createElement(\n          'svg',\n          { width: this.svgWidth(), height: this.svgHeight() },\n          rows\n        )\n      );\n    }\n  }]);\n\n  return RowChart;\n}(_react.Component);\n\nexports.default = RowChart;\n\n\nRowChart.propTypes = {\n  className: _propTypes2.default.string,\n  width: _propTypes2.default.number,\n  height: _propTypes2.default.number,\n  data: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    name: _propTypes2.default.string,\n    value: _propTypes2.default.number\n  })),\n  row: _propTypes2.default.func,\n  rowHeight: _propTypes2.default.number,\n  colorMapper: _propTypes2.default.func\n};\n\nRowChart.defaultProps = {\n  row: _DefaultRow2.default\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _RowChart = require('./RowChart');\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_RowChart).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var groupedData = _ref.groupedData,\n      colorPalette = _ref.colorPalette,\n      title = _ref.title,\n      groupTitle = _ref.groupTitle;\n\n  var colorScale = new _ColorScale2.default(groupedData, colorPalette.colors, colorPalette.noDataColor);\n  var totalValue = groupedData.reduce(function (accumulated, next) {\n    return accumulated += next.value;\n  }, 0);\n\n  return _react2.default.createElement(\n    'div',\n    { className: 'breakdown-panel row' },\n    _react2.default.createElement(\n      'div',\n      { className: 'left-column column small-4' },\n      _react2.default.createElement(_reactCountup2.default, { className: 'number-countup', start: 0, end: totalValue, duration: 3 }),\n      _react2.default.createElement(\n        'div',\n        { className: 'breakdown-title' },\n        title\n      ),\n      _react2.default.createElement(\n        _recharts.PieChart,\n        { width: 100, height: 100 },\n        _react2.default.createElement(\n          _recharts.Pie,\n          {\n            dataKey: 'value',\n            data: groupedData,\n            innerRadius: 20,\n            outerRadius: 50,\n            cx: '50%',\n            cy: '50%',\n            startAngle: 90,\n            endAngle: -270\n          },\n          groupedData.map(function (element, index) {\n            return _react2.default.createElement(_recharts.Cell, { key: element.name, fill: colorScale.getColorFor(groupedData[index].value) });\n          })\n        )\n      )\n    ),\n    _react2.default.createElement(\n      'div',\n      { className: 'right-column column small-8' },\n      _react2.default.createElement(\n        'div',\n        { className: 'breakdown-group-title' },\n        'By ',\n        groupTitle\n      ),\n      _react2.default.createElement(_RowChart2.default, {\n        rowHeight: 40,\n        width: 200,\n        height: 300,\n        data: groupedData,\n        colorMapper: function colorMapper(value) {\n          return colorScale.getColorFor(value);\n        }\n      })\n    )\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _RowChart = require('./RowChart');\n\nvar _RowChart2 = _interopRequireDefault(_RowChart);\n\nvar _ColorScale = require('../../util/ColorScale.js');\n\nvar _ColorScale2 = _interopRequireDefault(_ColorScale);\n\nvar _reactCountup = require('react-countup');\n\nvar _reactCountup2 = _interopRequireDefault(_reactCountup);\n\nvar _recharts = require('recharts');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  return _react2.default.createElement(\n    'div',\n    null,\n    'stacked chart here'\n  );\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _recharts = require('recharts');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n","'use strict';\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _BreakdownPanel = require('./components/BreakdownPanel');\n\nvar _BreakdownPanel2 = _interopRequireDefault(_BreakdownPanel);\n\nvar _StackedBarChart = require('./components/StackedBarChart');\n\nvar _StackedBarChart2 = _interopRequireDefault(_StackedBarChart);\n\nvar _ColorPalette = require('./util/ColorPalette');\n\nvar _ColorPalette2 = _interopRequireDefault(_ColorPalette);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar projectsByPracticeArea = [{ name: 'Monitoring and Evaluation', value: 184 }, { name: 'Public Financial Management and Fiscal Sustainability', value: 123 }, { name: 'Knowledge Management and Data Analytics', value: 85 }, { name: 'Education, Gender and Youth', value: 37 }, { name: 'Energy and Environment', value: 12 }, { name: 'Security, Transparency, and Governence', value: 4 }];\n\nvar pbpaPanel = _react2.default.createElement(_BreakdownPanel2.default, {\n  groupedData: projectsByPracticeArea,\n  colorPalette: _ColorPalette2.default,\n  title: 'Projects',\n  groupTitle: 'Practice Area'\n});\n\nvar projectsByRegion = [{ name: 'East Asia & Oceania', value: 184 }, { name: 'Middle East & North Africa', value: 123 }, { name: 'South & Central Asia', value: 85 }, { name: 'Sub-Saharan Africa', value: 37 }, { name: 'Western Hemisphere', value: 12 }, { name: 'World', value: 9 }];\nvar pbrPanel = _react2.default.createElement(_BreakdownPanel2.default, {\n  groupedData: projectsByRegion,\n  colorPalette: _ColorPalette2.default,\n  title: 'Countries',\n  groupTitle: 'Region'\n});\n\nvar contractValue = [{ region: 'East Asia & Oceania', practiceArea: 'Monitoring and Evaluation', value: 550 }, { region: 'East Asia & Oceania', practiceArea: 'Public Financial Management and Fiscal Sustainability', value: 500 }, { region: 'East Asia & Oceania', practiceArea: 'Knowledge Management and Data Analytics', value: 350 }, { region: 'East Asia & Oceania', practiceArea: 'Education, Gender and Youth', value: 250 }, { region: 'East Asia & Oceania', practiceArea: 'Energy and Environment', value: 100 }, { region: 'East Asia & Oceania', practiceArea: 'Security, Transparency, and Governance', value: 50 }, { region: 'Middle East & North Africa', practiceArea: 'Monitoring and Evaluation', value: 550 }, { region: 'Middle East & North Africa', practiceArea: 'Public Financial Management and Fiscal Sustainability', value: 500 }, { region: 'Middle East & North Africa', practiceArea: 'Knowledge Management and Data Analytics', value: 350 }, { region: 'Middle East & North Africa', practiceArea: 'Education, Gender and Youth', value: 250 }, { region: 'Middle East & North Africa', practiceArea: 'Energy and Environment', value: 100 }, { region: 'Middle East & North Africa', practiceArea: 'Security, Transparency, and Governance', value: 50 }, { region: 'South & Central Asia', practiceArea: 'Monitoring and Evaluation', value: 550 }, { region: 'South & Central Asia', practiceArea: 'Public Financial Management and Fiscal Sustainability', value: 500 }, { region: 'South & Central Asia', practiceArea: 'Knowledge Management and Data Analytics', value: 350 }, { region: 'South & Central Asia', practiceArea: 'Education, Gender and Youth', value: 250 }, { region: 'South & Central Asia', practiceArea: 'Energy and Environment', value: 100 }, { region: 'South & Central Asia', practiceArea: 'Security, Transparency, and Governance', value: 50 }, { region: 'Sub-Saharan Africa', practiceArea: 'Monitoring and Evaluation', value: 550 }, { region: 'Sub-Saharan Africa', practiceArea: 'Public Financial Management and Fiscal Sustainability', value: 500 }, { region: 'Sub-Saharan Africa', practiceArea: 'Knowledge Management and Data Analytics', value: 350 }, { region: 'Sub-Saharan Africa', practiceArea: 'Education, Gender and Youth', value: 250 }, { region: 'Sub-Saharan Africa', practiceArea: 'Energy and Environment', value: 100 }, { region: 'Sub-Saharan Africa', practiceArea: 'Security, Transparency, and Governance', value: 50 }, { region: 'Western Hemisphere', practiceArea: 'Monitoring and Evaluation', value: 550 }, { region: 'Western Hemisphere', practiceArea: 'Public Financial Management and Fiscal Sustainability', value: 500 }, { region: 'Western Hemisphere', practiceArea: 'Knowledge Management and Data Analytics', value: 350 }, { region: 'Western Hemisphere', practiceArea: 'Education, Gender and Youth', value: 250 }, { region: 'Western Hemisphere', practiceArea: 'Energy and Environment', value: 100 }, { region: 'Western Hemisphere', practiceArea: 'Security, Transparency, and Governance', value: 50 }, { region: 'World', practiceArea: 'Monitoring and Evaluation', value: 550 }, { region: 'World', practiceArea: 'Public Financial Management and Fiscal Sustainability', value: 500 }, { region: 'World', practiceArea: 'Knowledge Management and Data Analytics', value: 350 }, { region: 'World', practiceArea: 'Education, Gender and Youth', value: 250 }, { region: 'World', practiceArea: 'Energy and Environment', value: 100 }, { region: 'World', practiceArea: 'Security, Transparency, and Governance', value: 50 }, { region: 'Others', practiceArea: 'Monitoring and Evaluation', value: 550 }, { region: 'Others', practiceArea: 'Public Financial Management and Fiscal Sustainability', value: 500 }, { region: 'Others', practiceArea: 'Knowledge Management and Data Analytics', value: 350 }, { region: 'Others', practiceArea: 'Education, Gender and Youth', value: 250 }, { region: 'Others', practiceArea: 'Energy and Environment', value: 100 }, { region: 'Others', practiceArea: 'Security, Transparency, and Governance', value: 50 }];\n\nvar stackedBarChart = _react2.default.createElement(_StackedBarChart2.default, {\n  data: contractValue,\n  colorPalette: _ColorPalette2.default\n});\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  _reactDom2.default.render(pbpaPanel, document.getElementById('projects-by-practice-area'));\n\n  _reactDom2.default.render(pbrPanel, document.getElementById('projects-by-region'));\n\n  _reactDom2.default.render(stackedBarChart, document.getElementById('contract-value'));\n});\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  colors: ['#62AFD1', '#3D98C3', '#297DA6', '#1F5D7B', '#173F53', '#0E242F'],\n  noDataColor: '#87C6DD'\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _d = require('d3');\n\nvar _d2 = _interopRequireDefault(_d);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ColorScale = function () {\n  function ColorScale(data, colors) {\n    var noDataColor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"#ddd\";\n    var valueAccessorFunc = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function (d) {\n      return d.value;\n    };\n    var scaleType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 'quantize';\n    var customDomain = arguments[5];\n\n    _classCallCheck(this, ColorScale);\n\n    this.data = data;\n    this.colors = colors;\n    this.noDataColor = noDataColor;\n    this.valueAccessorFunc = valueAccessorFunc;\n    this.scaleType = scaleType;\n    this.customDomain = customDomain;\n\n    // Setup the scale based on scale type\n    if (scaleType === 'quantize') {\n      // Calculate the colors based on a linear quantize domain\n      this.scale = _d2.default.scale.quantize();\n    } else if (scaleType === \"quantile\") {\n      // Calculate the colors by n domain sections(similar to quartiles but of n sections)\n      this.scale = _d2.default.scale.quantile();\n    }\n    this.scale.domain(this.calculateDomain()).range(colors);\n  }\n\n  _createClass(ColorScale, [{\n    key: 'calculateDomain',\n    value: function calculateDomain() {\n      if (this.customDomain) {\n        return this.customDomain;\n      } else if (this.scaleType === 'quantize') {\n        // Standard min/max domain for linear quantize scale\n        return [_d2.default.min(this.data, this.valueAccessorFunc), _d2.default.max(this.data, this.valueAccessorFunc)];\n      } else if (this.scaleType === 'quantile') {\n        // If the user didn't specify a list of quantiles using the customDomain\n        // then use the data itself as the quantiles\n        return this.data.map(this.valueAccessorFunc);\n      }\n    }\n  }, {\n    key: 'setDomain',\n    value: function setDomain() {\n      this.scale.domain(this.calculateDomain());\n    }\n  }, {\n    key: 'setData',\n    value: function setData(data) {\n      this.data = data;\n    }\n  }, {\n    key: 'getColorFor',\n    value: function getColorFor(value) {\n      if (value === undefined) {\n        return this.noDataColor;\n      }\n      return this.scale(value);\n    }\n  }]);\n\n  return ColorScale;\n}();\n\nexports.default = ColorScale;\n","'use strict';\n\n/* jshint ignore:start */\n(function () {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = window.brunch || {};\n  var ar = br['auto-reload'] = br['auto-reload'] || {};\n  if (!WebSocket || ar.disabled) return;\n  if (window._ar) return;\n  window._ar = true;\n\n  var cacheBuster = function cacheBuster(url) {\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') + 'cacheBuster=' + date;\n  };\n\n  var browser = navigator.userAgent.toLowerCase();\n  var forceRepaint = ar.forceRepaint || browser.indexOf('chrome') > -1;\n\n  var reloaders = {\n    page: function page() {\n      window.location.reload(true);\n    },\n\n    stylesheet: function stylesheet() {\n      [].slice.call(document.querySelectorAll('link[rel=stylesheet]')).filter(function (link) {\n        var val = link.getAttribute('data-autoreload');\n        return link.href && val != 'false';\n      }).forEach(function (link) {\n        link.href = cacheBuster(link.href);\n      });\n\n      // Hack to force page repaint after 25ms.\n      if (forceRepaint) setTimeout(function () {\n        document.body.offsetHeight;\n      }, 25);\n    },\n\n    javascript: function javascript() {\n      var scripts = [].slice.call(document.querySelectorAll('script'));\n      var textScripts = scripts.map(function (script) {\n        return script.text;\n      }).filter(function (text) {\n        return text.length > 0;\n      });\n      var srcScripts = scripts.filter(function (script) {\n        return script.src;\n      });\n\n      var loaded = 0;\n      var all = srcScripts.length;\n      var onLoad = function onLoad() {\n        loaded = loaded + 1;\n        if (loaded === all) {\n          textScripts.forEach(function (script) {\n            eval(script);\n          });\n        }\n      };\n\n      srcScripts.forEach(function (script) {\n        var src = script.src;\n        script.remove();\n        var newScript = document.createElement('script');\n        newScript.src = cacheBuster(src);\n        newScript.async = true;\n        newScript.onload = onLoad;\n        document.head.appendChild(newScript);\n      });\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname || 'localhost';\n\n  var connect = function connect() {\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function (event) {\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function () {\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function () {\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n/* jshint ignore:end */\n"]}